Java Interface for APE
======================

The Java Interface for APE is part of the Attempto Parsing Engine (APE).
Copyright 2008-2013, Attempto Group, University of Zurich (http://attempto.ifi.uzh.ch).


Content
-------

The Java Interface for APE consists of one jar-file `attempto-ape.jar`,
which contains various interfaces to APE:

  - `APELocal` accesses APE via JPL, the bidirectional Prolog/Java interface, which is included in the SWI-Prolog installation;
  - `APESocket` accesses APE via its socket server;
  - `APEWebservice` accesses APE via its HTTP server.

See docs/index.html for the detailed documentation of the packages and classes
(generated by `ant createjavadoc`).


Compilation
-----------

Apache Ant+Ivy is needed for compilation. The following commands are available:

- `ant compile` compiles the Java source code.
- `ant createjars` creates the jar-files.
- `ant createjavadoc` creates the Javadoc documentation pages.
- `ant clean` deletes all automatically generated files like the compiled Java classes, the
  jar-files, and the Javadoc files.
- `ant buildeverything` builds everything from scratch.
- `ant test` runs unit tests (see more below).


Testing
-------

In order to run the unit tests (`ant test`), first compile `ape.exe`.

For the `APELocal` tests to succeed, place `ape.exe` into the APE root directory
and execute (in any directory):

	eval `swipl -dump-runtime-variables`
	export LD_PRELOAD=$PLBASE/lib/$PLARCH/libjpl.so:$PLBASE/lib/$PLARCH/libswipl.so

For the `APESocket` tests to succeed, start the APE socket server:

	ape.exe -server -port 5000

For the `APEWebservice` tests to succeed, start the APE HTTP server:

	ape.exe -httpserver -port 8000

Now run

	ant test
